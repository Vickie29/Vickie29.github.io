{"title":"关于 yolo 配合硬件的小结——个人笔记","slug":"关于yolo配合硬件的小结——个人笔记","date":"2020-06-17","updated":"2020-06-17","comments":true,"path":"api/posts/56562.json","excerpt":"<p>这个纯属个人笔记了——完全是怕忘 <br> 很久没有写博客，也不太知道想写什么，最近玩的东西比较多：esp8266 做 wifi 杀手、配合 esp32 搭建了个简易的网络摄像头，改 yolo 玩的一阵子，入手几个红外模块，现在正在玩 USART HMI。</p><p>今天用 yolo 和红外编码打开空调的时候，因为 yolo 是不停的循环调用摄像头识别人数的</p>","cover":"https://img-blog.csdnimg.cn/20200503114812548.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NTA0MTE5,size_16,color_FFFFFF,t_70","covers":["https://img-blog.csdnimg.cn/20200503114812548.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NTA0MTE5,size_16,color_FFFFFF,t_70"],"content":"<p>这个纯属个人笔记了——完全是怕忘 <br> 很久没有写博客，也不太知道想写什么，最近玩的东西比较多：esp8266 做 wifi 杀手、配合 esp32 搭建了个简易的网络摄像头，改 yolo 玩的一阵子，入手几个红外模块，现在正在玩 USART HMI。</p>\n<p>今天用 yolo 和红外编码打开空调的时候，因为 yolo 是不停的循环调用摄像头识别人数的</p>\n<a id=\"more\"></a>\n<blockquote>\n<p>说到这里感觉最近还是有很多可以写的东西的，不过学校快开学了，我过阵子抽时间把最近学到的都写一下吧。</p>\n</blockquote>\n<p>所以它就第一次识别人数后进入红外编码打开空调，然后第二次识别满足人数要求时，又调用红外编码模块进行打开空调的操作，搞得空调一直响…所以我想当它第一次满足条件 A，继续循环再满足条件 A 时暂时不进入 A 中，直到满足条件 B 后，如果出现满足条件 A 的情况才能进入 A。所以我想起来之前写的关于 global 语句的使用。</p>\n<p>贴代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">逻辑关系很简单，但是移植的时候出了点小毛病</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\">xunhuan = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">dakai</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">global</span> xunhuan</span><br><span class=\"line\">        <span class=\"keyword\">while</span> xunhuan ==<span class=\"number\">1</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            print(xunhuan)</span><br><span class=\"line\">            print(<span class=\"string\">'123456'</span>)</span><br><span class=\"line\">            xunhuan = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">guanbi</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> xunhuan</span><br><span class=\"line\">    <span class=\"keyword\">while</span> xunhuan == <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">break</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        print(xunhuan)</span><br><span class=\"line\">        print(<span class=\"string\">'abcdef'</span>)</span><br><span class=\"line\">        xunhuan = <span class=\"number\">0</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"number\">1</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> xunhuan ==<span class=\"number\">1</span>:</span><br><span class=\"line\">        xunhuan =<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> xunhuan ==<span class=\"number\">0</span>:</span><br><span class=\"line\">      xunhuan = <span class=\"number\">0</span></span><br><span class=\"line\">    a=input(<span class=\"string\">'输入人数：'</span>)</span><br><span class=\"line\">    a=int(a)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> a&gt;=<span class=\"number\">3</span>:</span><br><span class=\"line\">        dakai()</span><br><span class=\"line\">    time.sleep(<span class=\"number\">5</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> a&lt;=<span class=\"number\">2</span>:</span><br><span class=\"line\">        guanbi()</span><br><span class=\"line\">    time.sleep(<span class=\"number\">5</span>)</span><br></pre></td></tr></table></figure>\n<p>移植到 yolo 时移植出现 global 语句的错误，最后把 xunhuan 的定义加在了 yolo.py 的 class 外面才成功 <br><img src=\"https://img-blog.csdnimg.cn/20200503114812548.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NTA0MTE5,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br> 最近玩 yolo 还是蛮多的，结合硬件玩了好多东西，最近学校课复习完之后再慢慢分享出来吧。</p>\n","url":"/posts/56562/","min2read":1,"word4post":460,"prev_post":{"title":"教女友学会 python+yolov3 调用笔记本摄像头——实时进行识别","url":"/posts/60092/"},"next_post":{"title":"python 实现人数识别目标识别","url":"/posts/54324/"},"toc":"","categories":[{"name":"python","path":"api/categories/python.json","url":"/categories/python/"},{"name":"机器视觉","path":"api/categories/机器视觉.json","url":"/categories/python/机器视觉/"}],"tags":[{"name":"python","path":"api/tags/python.json","url":"/tags/python/"},{"name":"机器视觉","path":"api/tags/机器视觉.json","url":"/tags/机器视觉/"}]}