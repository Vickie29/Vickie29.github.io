{"title":"Python 学习笔记_6：global 与 nanlacal 的区别","slug":"Python学习笔记_6：global 与 nanlacal 的区别","date":"2020-06-17","updated":"2020-06-17","comments":true,"path":"api/posts/45048.json","excerpt":"<p> 之前我在 matlab 的笔记里介绍过一次 global 的用法 </p><p> 这次在 python 中介绍下 global 和 nanlacal 的区别 </p><p><strong>global 函数：</strong></p><p> 在函数中修改全局变量 </p><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>I = <span class=\"string\">'ABC'</span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fun</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">global</span> I</span><br><span class=\"line\">\t\tI = <span class=\"string\">'123'</span></span><br><span class=\"line\">\t\tprint(I)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>fun()</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>print(I)</span><br><span class=\"line\">% 输出为 </span><br><span class=\"line\"><span class=\"number\">123</span></span><br><span class=\"line\"><span class=\"number\">123</span></span><br></pre></td></tr></table></figure>","cover":"https://img-blog.csdnimg.cn/20200306152352813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NTA0MTE5,size_16,color_FFFFFF,t_70","covers":["https://img-blog.csdnimg.cn/20200306152352813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NTA0MTE5,size_16,color_FFFFFF,t_70","https://img-blog.csdnimg.cn/20200306152038752.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NTA0MTE5,size_16,color_FFFFFF,t_70"],"content":"<p>之前我在 matlab 的笔记里介绍过一次 global 的用法</p>\n<p>这次在 python 中介绍下 global 和 nanlacal 的区别</p>\n<p><strong>global 函数：</strong></p>\n<p>在函数中修改全局变量</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>I = <span class=\"string\">'ABC'</span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fun</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">global</span> I</span><br><span class=\"line\">\t\tI = <span class=\"string\">'123'</span></span><br><span class=\"line\">\t\tprint(I)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>fun()</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>print(I)</span><br><span class=\"line\">% 输出为</span><br><span class=\"line\"><span class=\"number\">123</span></span><br><span class=\"line\"><span class=\"number\">123</span></span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<p>运行 fun() 函数时，global 函数将全局变量 I = ‘ABC’ 修改为 I = ‘123’，并覆盖原先的全局变量 I 的值。</p>\n<p><strong>nonlocal 函数：</strong></p>\n<p>在函数中的内部函数中，修改其外部函数中定义的局部变量</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">先看一份例子，稍后我们使用 <span class=\"keyword\">nonlocal</span> 来修改 </span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>I = <span class=\"string\">'东北大鹌鹑'</span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fun</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    \tI = <span class=\"string\">'PDD'</span></span><br><span class=\"line\">    \t<span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">function</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">        \tI = <span class=\"string\">'周淑怡'</span></span><br><span class=\"line\">        \tprint(I)</span><br><span class=\"line\">    \tfunction()</span><br><span class=\"line\">    \tprint(I)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>fun()</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>print(I)</span><br><span class=\"line\">% 输出是 %</span><br><span class=\"line\"> 周淑怡 </span><br><span class=\"line\">PDD</span><br><span class=\"line\"> 东北大鹌鹑</span><br></pre></td></tr></table></figure>\n<p>而我现在把 ’PDD‘ 也换成 ’周淑怡‘ ，就要使用 nonlocal 函数了<br><img src=\"https://img-blog.csdnimg.cn/20200306152352813.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NTA0MTE5,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>I = <span class=\"string\">'东北大鹌鹑'</span></span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">fun</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    \tI = <span class=\"string\">'PDD'</span></span><br><span class=\"line\">    \t<span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">function</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">\t        <span class=\"keyword\">nonlocal</span> I</span><br><span class=\"line\">        \tI = <span class=\"string\">'周淑怡'</span></span><br><span class=\"line\">        \tprint(I)</span><br><span class=\"line\">    \tfunction()</span><br><span class=\"line\">    \tprint(I)</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>fun()</span><br><span class=\"line\"><span class=\"meta\">&gt;&gt;&gt; </span>print(I)</span><br><span class=\"line\">% 输出为 </span><br><span class=\"line\"> 周淑怡 </span><br><span class=\"line\"> 周淑怡 </span><br><span class=\"line\"> 东北大鹌鹑</span><br></pre></td></tr></table></figure>\n<p>PDD：你怎么把我给整没了呢？？？<br><img src=\"https://img-blog.csdnimg.cn/20200306152038752.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NTA0MTE5,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br>哈哈哈哈，皮一下 <br><img src=\"https://img-blog.csdnimg.cn/20200306152417290.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ1NTA0MTE5,size_16,color_FFFFFF,t_70\" alt=\"在这里插入图片描述\"><br> 从上面的例子可以看到：</p>\n<p>我们一般在某函数的内部函数中使用 nonlocal 函数来修改这个函数的局部变量，而不会改变整个代码的全局变量，nonlocal 用途还算比较广泛的。</p>\n","url":"/posts/45048/","min2read":1,"word4post":358,"prev_post":{"title":"Python 学习笔记_7：index() 和 dict() 的用法详解","url":"/posts/32939/"},"next_post":{"title":"Python 学习笔记_5：字符串格式化符号及进制转换","url":"/posts/22649/"},"toc":"","categories":[{"name":"python","path":"api/categories/python.json","url":"/categories/python/"},{"name":"语法笔记","path":"api/categories/语法笔记.json","url":"/categories/python/语法笔记/"}],"tags":[{"name":"python","path":"api/tags/python.json","url":"/tags/python/"},{"name":"语法笔记","path":"api/tags/语法笔记.json","url":"/tags/语法笔记/"}]}